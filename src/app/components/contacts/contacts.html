<main id="main-content" class="flex-1 py-12">
  <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
    <div id="form-header" class="text-center mb-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Contact Us</h1>
      <p class="text-gray-600">
        We'd love to hear from you. Send us a message and we'll respond as soon
        as possible.
      </p>
    </div>
    <div
      id="contact-form-section"
      class="bg-white rounded-lg shadow-xl p-8 border-t-4 border-primary-600"
    >
      <div id="form-container" class="bg-opacity-30 rounded-lg p-6">
        <form
          id="contact-form"
          class="space-y-6"
          #contactForm="ngForm"
          (ngSubmit)="onSubmit(contactForm)"
        >
          <div id="name-field" class="form-group flex justify-between gap-4">
            <div class="w-full">
              <label
                for="first_name"
                class="block text-sm font-medium text-gray-700 mb-2"
                >First Name</label
              >
              <input
                type="text"
                id="first_name"
                name="first_name"
                ngModel
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
                placeholder="Enter your First name"
                #firstName="ngModel"
              />
              <p
                class="text-red-500 text-sm mt-1"
                *ngIf="firstName.invalid && firstName.touched"
              >
                First Name is required
              </p>
            </div>
            <div class="w-full">
              <label
                for="last_name"
                class="block text-sm font-medium text-gray-700 mb-2"
                >Last Name</label
              >
              <input
                type="text"
                id="last_name"
                name="last_name"
                ngModel
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
                placeholder="Enter your Last name"
                #lastName="ngModel"
              />
              <p
                class="text-red-500 text-sm mt-1"
                *ngIf="lastName.invalid && lastName.touched"
              >
                Last Name is required
              </p>
            </div>
          </div>

          <div id="email-field" class="form-group">
            <label
              for="email"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Email Address</label
            >
            <input
              type="email"
              id="email"
              name="email"
              ngModel
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
              placeholder="Enter your email address"
              #email="ngModel"
            />
            <p
              class="text-red-500 text-sm mt-1"
              *ngIf="email.invalid && email.touched"
            >
              <span *ngIf="email.errors?.['required']">Email is required</span>
              <span *ngIf="email.errors?.['email']"
                >Please enter a valid email</span
              >
            </p>
          </div>

          <div id="phone-field" class="form-group">
            <label
              for="phone"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Phone Number</label
            >
            <input
              type="tel"
              id="phone"
              name="phone"
              ngModel
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500"
              placeholder="Enter your phone number"
              #phone="ngModel"
            />
            <p
              class="text-red-500 text-sm mt-1"
              *ngIf="phone.invalid && phone.touched"
            >
              Phone Number is required
            </p>
          </div>

          <div>
            <label for="subject" class="block text-sm text-neutral-700 mb-2">
              Subject
            </label>
            <select
              id="subject"
              name="subject"
              ngModel
              required
              class="w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-500 focus:border-transparent"
              #subject="ngModel"
            >
              <option value="">Select a subject</option>
              <option value="general">General Inquiry</option>
              <option value="sales">Sales</option>
              <option value="support">Technical Support</option>
              <option value="partnership">Partnership</option>
              <option value="other">Other</option>
            </select>
            <p
              class="text-red-500 text-sm mt-1"
              *ngIf="subject.invalid && subject.touched"
            >
              Please select a subject
            </p>
          </div>

          <div id="message-field" class="form-group flex flex-col">
            <label
              for="message"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Message</label
            >
            <textarea
              id="message"
              name="message"
              rows="6"
              ngModel
              #messageControl="ngModel"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none"
              placeholder="Enter your message here..."
              maxlength="500"
            ></textarea>
            <div class="ml-auto">
              {{ messageControl?.value?.length || 0 }}/500
            </div>
          </div>

          <div id="submit-section" class="pt-4 flex justify-center">
            <button
              type="submit"
              class="w-1/2 bg-primary-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-primary-700 focus:outline-none"
              [disabled]="isSubmitting"
            >
              {{ isSubmitting ? "Sending..." : "Send Message" }}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="flex items-center justify-center mt-4 md:justify-start">
    <div class="info_container gap-4 flex justify-center items-center">
      <span> Need assistance? </span>
      <a
        (click)="onAssitance()"
        class="bg-primary-600 hover:bg-primary-700 text-white px-3 py-2 rounded-md transition-colors"
        >Get Support</a
      >
    </div>
  </div>
</main>

<div id="assistance-modal" class="modal" *ngIf="showAssitanceModal">
  <div class="modal-content">
    <h6 class="text-xxl font-bold mb-4">For Immediate Assistance</h6>
    <p class="m-1">
      Please call our support line at
      <a href="tel:+1234567890" class="text-blue-500 underline"
        >+1 (234) 567-890</a
      >
    </p>
    <p>OR</p>
    <p class="mb-2 m-1">
      Email us at
      <a href="tanssupport@gmail.com" class="text-blue-500 underline"
        >tanssupport@gmail.com</a
      >
    </p>
    <div class="modal-footer">
      <button
        class="border px-4 py-2 rounded hover:text-primary-600 hover:border-primary-600"
        (click)="closeAssitanceModal()"
      >
        Close
      </button>
    </div>
  </div>
</div>
